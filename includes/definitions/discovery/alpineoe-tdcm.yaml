mib: ALPINE-GEN-CARD-TDCM-MIB:ALPINE-GEN-CARD-EDFA-MIB:ALPINE-TDCM-EDFA-MIB
modules:

    os:
        sysDescr_regex: '/(?<hardware>MSM\S+) .* Serial number (?<serial>\S+) - Firmware version (?<version>\S+)/'
        hardware:
            - ALPINE-TDCM-EDFA-MIB::alpineTESBISlotHwVer.1
            - ALPINE-TDCM-EDFA-MIB::alpineTESBISlotHwVer.2
        hardware_template: 'TDCM {{ ALPINE-TDCM-EDFA-MIB::alpineTESBISlotHwVer.1 }} - EDFA {{ ALPINE-TDCM-EDFA-MIB::alpineTESBISlotHwVer.2 }}'
        serial:
            - ALPINE-TDCM-EDFA-MIB::alpineTEBISlotSN.1
            - ALPINE-TDCM-EDFA-MIB::alpineTEBISlotSN.2
        serial_template: 'TDCM : {{ ALPINE-TDCM-EDFA-MIB::alpineTEBISlotSN.1 }} - EDFA : {{ ALPINE-TDCM-EDFA-MIB::alpineTEBISlotSN.2 }}'
        version:
          - ALPINE-TDCM-EDFA-MIB::alpineTESBISlotFwVer.1
          - ALPINE-TDCM-EDFA-MIB::alpineTESBISlotFwVer.2
        version_template: '[TDCM {{ ALPINE-TDCM-EDFA-MIB::alpineTESBISlotFwVer.1 }} - EDFA {{ ALPINE-TDCM-EDFA-MIB::alpineTESBISlotFwVer.2 }}]'

    sensors:

        temperature:
            data:
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEBISlotTemperature
                    num_oid: '.1.3.6.1.4.1.52326.2.1.1.1.8.{{ $index }}'
                    descr: 'Slot {{ $index }}'
                    index: 'alpineTEBISlotTemperature.{{ $index }}'
                    low_limit: alpineTeatTempLowAlarmThld
                    low_warn_limit: alpineTeatTempLowWarningThld
                    warn_limit : alpineTeatTempHighWarningThld
                    high_limit : alpineTeatTempHighAlarmThld

                -
                    oid: alpineGenCardEdfa
                    value: gceTemperature
                    num_oid: '.1.3.6.1.4.1.52326.1.1.1.1.8.{{ $index }}'
                    descr: 'Slot {{ $index }} : EDFA'
                    index: 'gceTemperature.{{ $index }}'
                    high_limit : gceaTemperatureThld
        state:
            data:
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEBISlotPower1Status
                    num_oid: '.1.3.6.1.4.1.52326.2.1.1.1.9.{{ $index }}'
                    descr: 'Slot {{ $index }} : Power 1'
                    index: 'alpineTEBISlotPower1Status.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEBISlotPower2Status
                    num_oid: '.1.3.6.1.4.1.52326.2.1.1.1.11.{{ $index }}'
                    descr: 'Slot {{ $index }} : Power 2'
                    index: 'alpineTEBISlotPower2Status.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEPowerCardPowerInStatus
                    num_oid: '.1.3.6.1.4.1.52326.2.1.4.1.8.{{ $index }}'
                    descr: 'Slot {{ $index }} : PSU Input'
                    index: 'alpineTEPowerCardPowerInStatus.{{ $index }}'
                    high_limit : 1
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEPowerCardPowerOutStatus
                    num_oid: '.1.3.6.1.4.1.52326.2.1.4.1.10.{{ $index }}'
                    descr: 'Slot {{ $index }} : PSU Output'
                    index: 'alpineTEPowerCardPowerOutStatus.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineGenCardEdfa
                    value: geaiLossInputAlarm
                    num_oid: '.1.3.6.1.4.1.52326.1.1.2.2.1.7.{{ $index }}'
                    descr: 'Slot {{ $index }} : Alarm Input'
                    index: 'geaiLossInputAlarm.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineGenCardEdfa
                    value: geaiLossOutputAlarm
                    num_oid: '.1.3.6.1.4.1.52326.1.1.2.2.1.8.{{ $index }}'
                    descr: 'Slot {{ $index }} : Alarm Output'
                    index: 'geaiLossOutputAlarm.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTESlotStatus
                    num_oid: '.1.3.6.1.4.1.52326.2.1.2.1.2.{{ $index }}'
                    descr: 'Slot {{ $index }} : Status'
                    index: 'alpineTESlotStatus.{{ $index }}'
                    low_limit : 0
                
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEFanCardFan1Status
                    num_oid: '.1.3.6.1.4.1.52326.2.1.5.1.10.{{ $index }}'
                    descr: 'Slot {{ $index }} : Fan 1'
                    index: 'alpineTEFanCardFan1Status.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEFanCardFan2Status
                    num_oid: '.1.3.6.1.4.1.52326.2.1.5.1.12.{{ $index }}'
                    descr: 'Slot {{ $index }} : Fan 2'
                    index: 'alpineTEFanCardFan2Status.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEFanCardFan3Status
                    num_oid: '.1.3.6.1.4.1.52326.2.1.5.1.14.{{ $index }}'
                    descr: 'Slot {{ $index }} : Fan 3'
                    index: 'alpineTEFanCardFan3Status.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineGenCardTdcm
                    value: gctiWorkMode
                    num_oid: '.1.3.6.1.4.1.52326.1.2.1.1.2.{{ $index }}'
                    descr: 'Slot {{ $index }} : Work mode'
                    index: 'gctiWorkMode.{{ $index }}'

                -
                    oid: alpineGenCardTdcm
                    value: gctiSaveConfig
                    num_oid: '.1.3.6.1.4.1.52326.1.2.1.1.6.{{ $index }}'
                    descr: 'Slot {{ $index }} : Save config'
                    index: 'gctiSaveConfig.{{ $index }}'
                    warn_limit : 1

                -
                    oid: alpineGenCardEdfa
                    value: gceMode
                    num_oid: '.1.3.6.1.4.1.52326.1.1.1.1.3.{{ $index }}'
                    descr: 'Slot {{ $index }} : Work mode'
                    index: 'gceMode.{{ $index }}'

                -
                    oid: alpineGenCardEdfa
                    value: gceSaveConfig
                    num_oid: '.1.3.6.1.4.1.52326.1.1.1.1.9.{{ $index }}'
                    descr: 'Slot {{ $index }} : Save config'
                    index: 'gceSaveConfig.{{ $index }}'
                    warn_limit : 1

                -
                    oid: alpineGenCardEdfa
                    value: geaiCommonAlarm
                    num_oid: '.1.3.6.1.4.1.52326.1.1.2.2.1.3.{{ $index }}'
                    descr: 'Slot {{ $index }} : Common alarm'
                    index: 'geaiCommonAlarm.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineGenCardEdfa
                    value: geaiPumpTemperatureAlarm
                    num_oid: '.1.3.6.1.4.1.52326.1.1.2.2.1.5.{{ $index }}'
                    descr: 'Slot {{ $index }} : Temperature alarm'
                    index: 'geaiPumpTemperatureAlarm.{{ $index }}'
                    high_limit : 1

                -
                    oid: alpineGenCardEdfa
                    value: geaiPumpBiasAlarm
                    num_oid: '.1.3.6.1.4.1.52326.1.1.2.2.1.6.{{ $index }}'
                    descr: 'Slot {{ $index }} : Bias alarm'
                    index: 'geaiPumpBiasAlarm.{{ $index }}'
                    high_limit : 1


        fanspeed:
            data:
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEFanCardFan1Speed
                    num_oid: '.1.3.6.1.4.1.52326.2.1.5.1.9.{{ $index }}'
                    descr: 'Slot {{ $index }} : Fan 1'
                    index: 'alpineTEFanCardFan1Speed.{{ $index }}'

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEFanCardFan2Speed
                    num_oid: '.1.3.6.1.4.1.52326.2.1.5.1.11.{{ $index }}'
                    descr: 'Slot {{ $index }} : Fan 2'
                    index: 'alpineTEFanCardFan2Speed.{{ $index }}'

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEFanCardFan3Speed
                    num_oid: '.1.3.6.1.4.1.52326.2.1.5.1.13.{{ $index }}'
                    descr: 'Slot {{ $index }} : Fan 3'
                    index: 'alpineTEFanCardFan3Speed.{{ $index }}'

        dbm:
            data:
                -
                    oid: alpineGenCardEdfa
                    value: gceInputPower
                    num_oid: '.1.3.6.1.4.1.52326.1.1.1.1.10.{{ $index }}'
                    descr: 'Slot {{ $index }} : Power Input'
                    index: 'gceInputPower.{{ $index }}'
                    low_limit: gceaInputPowerThld

                -
                    oid: alpineGenCardEdfa
                    value: gceOutputPower
                    num_oid: '.1.3.6.1.4.1.52326.1.1.1.1.6.{{ $index }}'
                    descr: 'Slot {{ $index }} : Power Output'
                    index: 'gceOuputPower.{{ $index }}'
                    low_limit: gceaOutputPowerThld

                -
                    oid: alpineGenCardEdfa
                    value: gceOutputPowerTarget
                    num_oid: '.1.3.6.1.4.1.52326.1.1.1.1.4.{{ $index }}'
                    descr: 'Slot {{ $index }} : Power Output Target'
                    index: 'gceOutputPowerTarget.{{ $index }}'

        quality_factor:
            data:
                -
                    oid: alpineGenCardEdfa
                    value: gceGain
                    num_oid: '.1.3.6.1.4.1.52326.1.1.1.1.7.{{ $index }}'
                    descr: 'Slot {{ $index }} : Gain'
                    index: 'gceGain.{{ $index }}'

                -
                    oid: alpineGenCardEdfa
                    value: gceGainTarget
                    num_oid: '.1.3.6.1.4.1.52326.1.1.1.1.5.{{ $index }}'
                    descr: 'Slot {{ $index }} : Gain Target'
                    index: 'gceGainTarget.{{ $index }}'

        voltage:
            data:
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEBISlotPower1Val
                    num_oid: '.1.3.6.1.4.1.52326.2.1.1.1.10.{{ $index }}'
                    descr: 'Slot {{ $index }} : Power 1'
                    index: 'alpineTEBISlotPower1Val.{{ $index }}'
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEBISlotPower2Val
                    num_oid: '.1.3.6.1.4.1.52326.2.1.1.1.12.{{ $index }}'
                    descr: 'Slot {{ $index }} : Power 2'
                    index: 'alpineTEBISlotPower2Val.{{ $index }}'

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEPowerCardPowerOutVal
                    num_oid: '.1.3.6.1.4.1.52326.2.1.4.1.9.{{ $index }}'
                    descr: 'Slot {{ $index }} : PSU Ouput'
                    index: 'alpineTEPowerCardPowerOutVal.{{ $index }}'

                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEFanCardPower1Val
                    num_oid: '.1.3.6.1.4.1.52326.2.1.5.1.8.{{ $index }}'
                    descr: 'Slot {{ $index }} : Fan'
                    index: 'alpineTEFanCardPower1Val.{{ $index }}'

        count:
            data:
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEFanCardFansTotalCnt
                    num_oid: '.1.3.6.1.4.1.52326.2.1.5.1.2.{{ $index }}'
                    descr: 'Slot {{ $index }} : FANs'
                    index: 'alpineTEFanCardFansTotalCnt.{{ $index }}'
                -
                    oid: alpineTdcmEdfaSystem
                    value: alpineTEBISlotPowerTotalCnt
                    num_oid: '.1.3.6.1.4.1.52326.2.1.1.1.13.{{ $index }}'
                    descr: 'Slot {{ $index }} : POWERs'
                    index: 'alpineTEBISlotPowerTotalCnt.{{ $index }}'

        chromatic_dispersion:
            data:
                -
                    oid: alpineGenCardTdcm
                    value: gctiDefaultDispersion
                    num_oid: '.1.3.6.1.4.1.52326.1.2.1.1.3.{{ $index }}'
                    descr: 'Slot {{ $index }} : Default'
                    index: 'gctiDefaultDispersion.{{ $index }}'

                -
                    oid: alpineGenCardTdcm
                    value: gctiCurrentDispersion
                    num_oid: '.1.3.6.1.4.1.52326.1.2.1.1.4.{{ $index }}'
                    descr: 'Slot {{ $index }} : Current'
                    index: 'gctiCurrentDispersion.{{ $index }}'

